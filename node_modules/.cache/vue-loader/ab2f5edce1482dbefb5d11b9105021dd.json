{"remainingRequest":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/pages/UpdateConteudo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/pages/UpdateConteudo.vue","mtime":1666912945617},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb250ZXVkb1NlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQ29udGV1ZG8iOwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbGlkOiBmYWxzZSwKICAgICAgICAgICAgZmluaXNoOiBmYWxzZSwKICAgICAgICAgICAgbm9tZTogJycsCiAgICAgICAgICAgIGRlc2NyaWNhbzogJycsCiAgICAgICAgICAgIG5hbWVSdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ05vbWUgw6kgb2JyaWdhdMOzcmlvJwogICAgICAgICAgICBdLAogICAgICAgICAgICBpZDogbnVsbAogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgdGhpcy5nZXRDb250ZXVkbygpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBnZXRDb250ZXVkbygpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQ29udGV1ZG9TZXJ2aWNlLmdldE9uZSh0aGlzLmlkKTsKICAgICAgICAgICAgICAgIHRoaXMubm9tZSA9IHJlc3BvbnNlLmRhdGEubm9tZTsKICAgICAgICAgICAgICAgIHRoaXMuZGVzY3JpY2FvID0gcmVzcG9uc2UuZGF0YS5kZXNjcmljYW87CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgdGhpcy5jb250ZXVkb3MgPSBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYXN5bmMgdXBkYXRlQ29udGV1ZG8oKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgICAgICAgICAgIG5vbWU6IHRoaXMubm9tZSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmljYW86IHRoaXMuZGVzY3JpY2FvCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhd2FpdCBDb250ZXVkb1NlcnZpY2UudXBkYXRlKHRoaXMuaWQsIGRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy5maW5pc2ggPSB0cnVlOwogICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nb1RvTGlzdCgpOwogICAgICAgICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZ29Ub0xpc3QoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9kYXNoL2NvbnRldWRvJyB9KTsKICAgICAgICB9LAogICAgICAgIHJlc2V0KCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0ucmVzZXQoKTsKICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["UpdateConteudo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateConteudo.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <div>\n        <h1>Atualizando o conteúdo</h1>\n\n        <v-alert v-if=\"finish\" shaped outlined type=\"success\" style=\" margin: 20px\">\n            Conteúdo atualizado com sucesso! Você será redirecionada para a pagina de listagem...\n            <a @click=\"goToList()\">Ir Agora</a>\n        </v-alert>\n\n        <v-form ref=\"form\" v-model=\"valid\" lazy-validation\n            style=\"background: #FFF; border-radius: 5px; padding: 20px; margin: 20px\">\n\n            <v-text-field v-model=\"nome\" :rules=\"nameRules\" label=\"Nome\" outlined required></v-text-field>\n            <v-textarea v-model=\"descricao\" name=\"input-5-1\" label=\"Descrição\" outlined></v-textarea>\n\n            <v-btn :disabled=\"!valid\" color=\"success\" class=\"mr-4\" @click=\"updateConteudo\">\n                Atualizar\n            </v-btn>\n\n            <v-btn color=\"error\" class=\"mr-4\" @click=\"reset\">\n                Limpar\n            </v-btn>\n        </v-form>\n    </div>\n</template>\n\n<script>\nimport ConteudoService from \"../services/Conteudo\";\nexport default {\n    data() {\n        return {\n            valid: false,\n            finish: false,\n            nome: '',\n            descricao: '',\n            nameRules: [\n                v => !!v || 'Nome é obrigatório'\n            ],\n            id: null\n        }\n    },\n    mounted() {\n        this.id = this.$route.params.id;\n        this.getConteudo();\n    },\n    methods: {\n        async getConteudo() {\n            try {\n                const response = await ConteudoService.getOne(this.id);\n                this.nome = response.data.nome;\n                this.descricao = response.data.descricao;\n            } catch (err) {\n                this.conteudos = [];\n            }\n        },\n        async updateConteudo() {\n            try {\n                const data = {\n                    nome: this.nome,\n                    descricao: this.descricao\n                }\n                await ConteudoService.update(this.id, data);\n                this.finish = true;\n                this.reset();\n                setTimeout(() => {\n                    this.goToList();\n                }, 5000);\n            } catch (err) {\n                console.log(err);\n            }\n        },\n        goToList() {\n            this.$router.push({ path: '/dash/conteudo' });\n        },\n        reset() {\n            this.$refs.form.reset();\n        },\n    }\n}\n</script>"]}]}