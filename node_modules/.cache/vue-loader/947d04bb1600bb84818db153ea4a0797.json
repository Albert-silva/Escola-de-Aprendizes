{"remainingRequest":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/pages/Conteudo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/pages/Conteudo.vue","mtime":1667992763173},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb250ZXVkb1NlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQ29udGV1ZG8iOwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGhlYWRlcnM6IFsKICAgICAgICAgICAgICAgIHsgdGV4dDogJ05vbWUnLCBhbGlnbjogJ3N0YXJ0JywgdmFsdWU6ICdub21lJywgfSwKICAgICAgICAgICAgICAgIHsgdGV4dDogJ0Rlc2NyacOnw6NvJywgYWxpZ246ICdzdGFydCcsIHZhbHVlOiAnZGVzY3JpY2FvJyB9LAogICAgICAgICAgICAgICAgeyB0ZXh0OiAnUHJvZmVzc29yJywgYWxpZ246ICdjZW50ZXInLCB2YWx1ZToncHJvZmVzc29yJ30sCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdBw6fDtWVzJywgYWxpZ246ICdjZW50ZXInLCB2YWx1ZTogJ2FjdGlvbnMnIH0KICAgICAgICAgICAgXSwKICAgICAgICAgICAgY29udGV1ZG9zOiBbXSwKICAgICAgICAgICAgZGlhbG9nQ2FuY2VsYXI6IGZhbHNlLAogICAgICAgICAgICBpZFBhcmFDYW5jZWxhcjogbnVsbAogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0Q29udGV1ZG9zKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGdldENvbnRldWRvcygpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQ29udGV1ZG9TZXJ2aWNlLmdldEFsbCgpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgICAgICAgICB0aGlzLmNvbnRldWRvcyA9IHJlc3BvbnNlLmRhdGEuY29udGV1ZG9zLm1hcChjb250ZXVkbyA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbnRldWRvLmlkLAogICAgICAgICAgICAgICAgICAgICAgICBub21lOiBjb250ZXVkby5ub21lLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmljYW86IGNvbnRldWRvLmRlc2NyaWNhbywKICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmVzc29yOiBjb250ZXVkby5ub21lX3Byb2Zlc3NvcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIHRoaXMuY29udGV1ZG9zID0gW107CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFzeW5jIGV4Y2x1aXJDb250ZXVkbyhpZENvbnRldWRvKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBhd2FpdCBDYXRlZ29yeVNlcnZpY2UuZGVsZXRlKGlkQ29udGV1ZG8pOwogICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dDYW5jZWxhciA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5nZXRDb250ZXVkb3MoKTsKICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdvVG9BZGQoKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9kYXNoL2FkZC1jb250ZXVkbycgfSk7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Conteudo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Conteudo.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <div>\n        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n            <h1>Conteudos</h1>\n\n            <v-btn color=\"blue-grey\" class=\"ma-2 white--text\" @click=\"goToAdd()\">\n                <v-icon left dark>\n                    add\n                </v-icon>\n                Novo conteúdo\n            </v-btn>\n        </div>\n\n        <div style=\"margin-top: 25px\">\n            <v-data-table :headers=\"headers\" :items=\"conteudos\" class=\"elevation-1\"\n                no-data-text=\"Não encontramos conteudos cadastrados.\">\n\n                <template v-slot:[`item.actions`]=\"{ item }\">\n                    <v-btn class=\"mx-2\" fab dark small color=\"primary\" :to=\"'/dash/edit-conteudo/' + item.id\">\n                        <v-icon dark>\n                            edit\n                        </v-icon>\n                    </v-btn>\n\n                    <v-btn class=\"mx-2\" fab dark small color=\"red\" @click=\"dialogCancelar = true; idParaCancelar = item.id;\">\n                        <v-icon dark>\n                            delete\n                        </v-icon>\n                    </v-btn>\n                </template>\n            </v-data-table>\n\n            <v-dialog v-model=\"dialogCancelar\" persistent max-width=\"350\">\n                <v-card>\n                    <v-card-title class=\"text-h5\">\n                        Excluindo Categoria: {{idParaCancelar}}\n                    </v-card-title>\n\n                    <v-card-text>Tem certeza que deseja excluir a categoria?</v-card-text>\n\n                    <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn color=\"green darken-1\" text @click=\"dialogCancelar = false; idParaCancelar = null;\">\n                            Cancelar\n                        </v-btn>\n                        <v-btn color=\"green darken-1\" text @click=\"excluirConteudo(idParaCancelar)\">\n                            SIM\n                        </v-btn>\n                    </v-card-actions>\n                </v-card>\n            </v-dialog>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ConteudoService from \"../services/Conteudo\";\nexport default {\n    data() {\n        return {\n            headers: [\n                { text: 'Nome', align: 'start', value: 'nome', },\n                { text: 'Descrição', align: 'start', value: 'descricao' },\n                { text: 'Professor', align: 'center', value:'professor'},\n                { text: 'Ações', align: 'center', value: 'actions' }\n            ],\n            conteudos: [],\n            dialogCancelar: false,\n            idParaCancelar: null\n        }\n    },\n    mounted() {\n        this.getConteudos();\n    },\n    methods: {\n        async getConteudos() {\n            try {\n                const response = await ConteudoService.getAll();\n                console.log(response)\n                this.conteudos = response.data.conteudos.map(conteudo => {\n                    return {\n                        id: conteudo.id,\n                        nome: conteudo.nome,\n                        descricao: conteudo.descricao,\n                        professor: conteudo.nome_professor\n                    }\n                });\n            } catch (err) {\n                this.conteudos = [];\n            }\n        },\n        async excluirConteudo(idConteudo) {\n            try {\n                await CategoryService.delete(idConteudo);\n                this.dialogCancelar = false;\n                this.getConteudos();\n            } catch (err) {\n                console.log(err)\n            }\n        },\n        goToAdd() {\n            this.$router.push({ path: '/dash/add-conteudo' });\n        }\n    }\n}\n</script>"]}]}