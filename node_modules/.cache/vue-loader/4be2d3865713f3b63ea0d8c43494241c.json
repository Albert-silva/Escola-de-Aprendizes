{"remainingRequest":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/pages/Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/pages/Users.vue","mtime":1669939344841},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBdXRoU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9BdXRoIjsKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBoZWFkZXJzOiBbCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdOb21lJywgYWxpZ246ICdzdGFydCcsIHZhbHVlOiAnbmFtZScsIH0sCiAgICAgICAgICAgICAgICB7IHRleHQ6ICdFbWFpbCcsIGFsaWduOiAnc3RhcnQnLCB2YWx1ZTogJ2VtYWlsJ30KICAgICAgICAgICAgXSwKICAgICAgICAgICAgdXNlcnM6IFtdCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY29uc3QgdGlwb1VzdWFyaW8gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidGlwbyIpOwogICAgICAgIGlmICh0aXBvVXN1YXJpbyAhPSAicHJvZmVzc29yIiAmJiB0aXBvVXN1YXJpbyAhPSAiZGlyZXRvciIpIHsKICAgICAgICAgICAgYWxlcnQoJ1ZvY8OqIG5hbyB0ZW0gcGVybWlzc8OjbyEnKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvZGFzaC9wcm9maWxlJ30pOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5nZXRBbHVub3MoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZ2V0QWx1bm9zKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBdXRoU2VydmljZS5nZXRBbHVub3MoKTsKICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhLnVzZXJzX2xpc3QubWFwKHVzZXIgPT4gewogICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB1c2VyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLk5vbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLkVtYWlsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgdGhpcy51c2VycyA9IFtdOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Users.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    <div>\n        <div>\n            <h1>Alunos</h1>\n        </div>\n\n        <div style=\"margin-top: 25px\">\n            <v-data-table :headers=\"headers\" :items=\"users\" class=\"elevation-1\"\n                no-data-text=\"Não encontramos alunos cadastrados.\">\n            </v-data-table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport AuthService from \"../services/Auth\";\nexport default {\n    data() {\n        return {\n            headers: [\n                { text: 'Nome', align: 'start', value: 'name', },\n                { text: 'Email', align: 'start', value: 'email'}\n            ],\n            users: []\n        }\n    },\n    mounted() {\n        const tipoUsuario = localStorage.getItem(\"tipo\");\n        if (tipoUsuario != \"professor\" && tipoUsuario != \"diretor\") {\n            alert('Você nao tem permissão!');\n            this.$router.push({path: '/dash/profile'});\n        }\n\n        this.getAlunos();\n    },\n    methods: {\n        async getAlunos() {\n            try {\n                const response = await AuthService.getAlunos();\n                this.users = response.data.users_list.map(user => {\n                    return {\n                        id: user.id,\n                        name: user.Nome,\n                        email: user.Email\n                    }\n                });\n            } catch (err) {\n                this.users = [];\n            }\n        }\n    }\n}\n</script>"]}]}