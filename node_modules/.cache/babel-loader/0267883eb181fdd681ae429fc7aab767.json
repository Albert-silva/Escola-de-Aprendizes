{"remainingRequest":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/babel-loader/lib/index.js!/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/services/Api.js","dependencies":[{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/services/Api.js","mtime":1660255401862},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/albert/Documents/Escola-de-Aprendizes/front-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2FsYmVydC9Eb2N1bWVudHMvRXNjb2xhLWRlLUFwcmVuZGl6ZXMvZnJvbnQtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKCnZhciBBcGkgPSBmdW5jdGlvbiBBcGkoX3JlZikgewogIHZhciBiYXNlVVJMID0gX3JlZi5iYXNlVVJMLAogICAgICBub0hlYWRlcnMgPSBfcmVmLm5vSGVhZGVycywKICAgICAgaGVhZGVycyA9IF9yZWYuaGVhZGVycywKICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9uczsKICB2YXIgc2Vzc2lvblRva2VuID0gbnVsbDsKCiAgdmFyIGdlbmVyYXRlSGVhZGVycyA9IGZ1bmN0aW9uIGdlbmVyYXRlSGVhZGVycygpIHsKICAgIGlmICghbm9IZWFkZXJzKSB7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHsKICAgICAgICBhdXRob3JpemF0aW9uOiAiQmVhcmVyICIuY29uY2F0KHNlc3Npb25Ub2tlbikKICAgICAgfSwgaGVhZGVycyk7CiAgICB9CgogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGhlYWRlcnMpOwogIH07CgogIHZhciBiYXNlQXBpVXJsID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUEk7CiAgdmFyIG5ld0luc3RhbmNlID0gYXhpb3MuY3JlYXRlKF9vYmplY3RTcHJlYWQoewogICAgYmFzZVVSTDogYmFzZVVSTCB8fCBiYXNlQXBpVXJsLAogICAgaGVhZGVyczogZ2VuZXJhdGVIZWFkZXJzKCkKICB9LCBvcHRpb25zKSk7CiAgbmV3SW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSh1bmRlZmluZWQsIGZ1bmN0aW9uIChlcnIpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSBlbHNlIGlmIChlcnIucmVzcG9uc2UpIHsKICAgICAgICByZWplY3QoZXJyKTsKICAgICAgfQogICAgfSk7CiAgfSk7CiAgcmV0dXJuIG5ld0luc3RhbmNlOwp9OwoKZXhwb3J0IGRlZmF1bHQgQXBpOw=="},{"version":3,"sources":["/home/albert/Documents/Escola-de-Aprendizes/front-vue/src/services/Api.js"],"names":["axios","Api","baseURL","noHeaders","headers","options","sessionToken","generateHeaders","authorization","baseApiUrl","process","env","VUE_APP_API","newInstance","create","interceptors","response","use","undefined","err","Promise","resolve","reject","status","localStorage","removeItem","window","location","reload"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,IAAMC,GAAG,GAAG,SAANA,GAAM,OAKN;AAAA,MAJFC,OAIE,QAJFA,OAIE;AAAA,MAHFC,SAGE,QAHFA,SAGE;AAAA,MAFFC,OAEE,QAFFA,OAEE;AAAA,MADFC,OACE,QADFA,OACE;AACF,MAAMC,YAAY,GAAG,IAArB;;AAEA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC1B,QAAI,CAACJ,SAAL,EAAgB;AACZ;AACIK,QAAAA,aAAa,mBAAYF,YAAZ;AADjB,SAEOF,OAFP;AAIH;;AACD,6BACOA,OADP;AAGH,GAVD;;AAYA,MAAMK,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAA/B;AACA,MAAMC,WAAW,GAAGb,KAAK,CAACc,MAAN;AAChBZ,IAAAA,OAAO,EAAEA,OAAO,IAAIO,UADJ;AAEhBL,IAAAA,OAAO,EAAEG,eAAe;AAFR,KAGbF,OAHa,EAApB;AAMAQ,EAAAA,WAAW,CAACE,YAAZ,CAAyBC,QAAzB,CAAkCC,GAAlC,CAAsCC,SAAtC,EAAiD,UAAUC,GAAV,EAAe;AAC5D,WAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC1C,UAAIH,GAAG,CAACH,QAAJ,CAAaO,MAAb,KAAwB,GAA5B,EAAiC;AAC7BC,QAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACAD,QAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,OAJD,MAIO,IAAIT,GAAG,CAACH,QAAR,EAAkB;AACrBM,QAAAA,MAAM,CAACH,GAAD,CAAN;AACH;AACJ,KARM,CAAP;AASH,GAVD;AAYA,SAAON,WAAP;AACH,CAxCD;;AA0CA,eAAeZ,GAAf","sourcesContent":["import axios from 'axios'\n\n\nconst Api = ({\n    baseURL,\n    noHeaders,\n    headers,\n    options,\n}) => {\n    const sessionToken = null\n\n    const generateHeaders = () => {\n        if (!noHeaders) {\n            return {\n                authorization: `Bearer ${sessionToken}`,\n                ...headers,\n            }\n        }\n        return {\n            ...headers,\n        }\n    }\n\n    const baseApiUrl = process.env.VUE_APP_API\n    const newInstance = axios.create({\n        baseURL: baseURL || baseApiUrl,\n        headers: generateHeaders(),\n        ...options,\n    })\n\n    newInstance.interceptors.response.use(undefined, function (err) {\n        return new Promise(function (resolve, reject) {\n            if (err.response.status === 401) {\n                localStorage.removeItem('user')\n                localStorage.removeItem('token')\n                window.location.reload()\n            } else if (err.response) {\n                reject(err)\n            }\n        })\n    })\n\n    return newInstance\n}\n\nexport default Api"]}]}